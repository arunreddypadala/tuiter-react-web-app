{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\n//import tuits from './tuits.json';\nimport { createTuitThunk, deleteTuitThunk, findTuitsThunk, updateTuitThunk } from \"../../services/tuits-thunks\";\nconst initialState = {\n  tuits: [],\n  loading: false\n};\nconst currentUser = {\n  \"userName\": \"NASA\",\n  \"handle\": \"@nasa\",\n  \"image\": \"nasa.png\"\n};\nconst templateTuit = {\n  ...currentUser,\n  \"topic\": \"Space\",\n  \"time\": \"2h\",\n  \"liked\": false,\n  \"replies\": 0,\n  \"retuits\": 0,\n  \"likes\": 0\n};\nconst tuitsSlice = createSlice({\n  name: 'tuits',\n  initialState: initialState,\n  extraReducers: {\n    [findTuitsThunk.pending]: state => {\n      state.loading = true;\n      state.tuits = [];\n    },\n    [findTuitsThunk.fulfilled]: (state, _ref) => {\n      let {\n        payload\n      } = _ref;\n      state.loading = false;\n      state.tuits = payload;\n      //console.log(\"its a reducer\")\n      //console.log(payload)\n    },\n\n    [findTuitsThunk.rejected]: state => {\n      state.loading = false;\n    },\n    [deleteTuitThunk.fulfilled]: (state, _ref2) => {\n      let {\n        payload\n      } = _ref2;\n      state.loading = false;\n      state.tuits = state.tuits.filter(t => t._id !== payload);\n    },\n    [createTuitThunk.fulfilled]: (state, _ref3) => {\n      let {\n        payload\n      } = _ref3;\n      state.loading = false;\n      let tmp = {\n        ...payload,\n        ...templateTuit\n      };\n      state.tuits.push(tmp);\n    },\n    [updateTuitThunk.fulfilled]: (state, _ref4) => {\n      let {\n        payload\n      } = _ref4;\n      state.loading = false;\n      const tuitNdx = state.tuits.findIndex(t => t._id === payload._id);\n      state.tuits[tuitNdx] = {\n        ...state.tuits[tuitNdx],\n        ...payload\n      };\n    }\n  },\n  reducers: {\n    deleteTuit(state, action) {\n      const index = state.findIndex(tuit => tuit._id === action.payload);\n      state.splice(index, 1);\n    },\n    createTuit(state, action) {\n      state.unshift({\n        ...action.payload,\n        ...templateTuit,\n        _id: new Date().getTime()\n      });\n    }\n  }\n});\nexport const {\n  createTuit,\n  deleteTuit\n} = tuitsSlice.actions;\nexport default tuitsSlice.reducer;","map":{"version":3,"names":["createSlice","createTuitThunk","deleteTuitThunk","findTuitsThunk","updateTuitThunk","initialState","tuits","loading","currentUser","templateTuit","tuitsSlice","name","extraReducers","pending","state","fulfilled","payload","rejected","filter","t","_id","tmp","push","tuitNdx","findIndex","reducers","deleteTuit","action","index","tuit","splice","createTuit","unshift","Date","getTime","actions","reducer"],"sources":["/Users/arunkumarreddy/Documents/cs5610_7/2023/spring/webdev/tuiter-react-web-app/src/tuiter/tuits/tuits-reducer.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\n//import tuits from './tuits.json';\nimport {createTuitThunk, deleteTuitThunk, findTuitsThunk, updateTuitThunk}\n    from \"../../services/tuits-thunks\";\n\nconst initialState = {\n    tuits: [],\n    loading: false\n}\n\nconst currentUser = {\n    \"userName\": \"NASA\",\n    \"handle\": \"@nasa\",\n    \"image\": \"nasa.png\",\n};\n\nconst templateTuit = {\n    ...currentUser,\n    \"topic\": \"Space\",\n    \"time\": \"2h\",\n    \"liked\": false,\n    \"replies\": 0,\n    \"retuits\": 0,\n    \"likes\": 0,\n}\n\nconst tuitsSlice = createSlice({\n                                   name: 'tuits',\n                                   initialState: initialState,\n                                   extraReducers: {\n                                       [findTuitsThunk.pending]:\n                                           (state) => {\n                                               state.loading = true\n                                               state.tuits = []\n                                           },\n                                       [findTuitsThunk.fulfilled]:\n                                           (state, { payload }) => {\n                                               state.loading = false\n                                               state.tuits = payload\n                                               //console.log(\"its a reducer\")\n                                               //console.log(payload)\n                                           },\n                                       [findTuitsThunk.rejected]:\n                                           (state) => {\n                                               state.loading = false\n                                           },\n                                       [deleteTuitThunk.fulfilled] :\n                                           (state, { payload }) => {\n                                               state.loading = false\n                                               state.tuits = state.tuits\n                                                   .filter(t => t._id !== payload)\n                                           },\n                                       [createTuitThunk.fulfilled]:\n                                           (state, { payload }) => {\n                                               state.loading = false\n                                               let tmp = {\n                                                   ...payload,\n                                                   ...templateTuit\n                                               }\n                                               state.tuits.push(tmp)\n                                           },\n                                       [updateTuitThunk.fulfilled]:\n                                           (state, { payload }) => {\n                                               state.loading = false\n                                               const tuitNdx = state.tuits\n                                                   .findIndex((t) => t._id === payload._id)\n                                               state.tuits[tuitNdx] = {\n                                                   ...state.tuits[tuitNdx],\n                                                   ...payload\n                                               }\n                                           }\n                                   },\n                                   reducers: {\n                                       deleteTuit(state, action) {\n                                           const index = state\n                                               .findIndex(tuit =>\n                                                              tuit._id === action.payload);\n                                           state.splice(index, 1);\n                                       },\n                                       createTuit(state, action) {\n                                           state.unshift({\n                                                             ...action.payload,\n                                                             ...templateTuit,\n                                                             _id: (new Date()).getTime(),\n                                                         })\n                                       }\n                                   }\n                               });\nexport const {createTuit, deleteTuit} = tuitsSlice.actions;\nexport default tuitsSlice.reducer;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}